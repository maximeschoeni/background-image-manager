function createFitManager(b){var a={width:0,height:0,size:"cover",position:"center",fit:function(l,n,j,h){var i=h/j;var e=n/l;var o=0.5;var g=0.5;var c,m;if(this.size==="cover"&&i>e||this.size==="contain"&&i<e){c=l;m=c*i}else{m=n;c=m/i}if(this.position&&this.position!=="center"){if(this.position.indexOf("left")>-1){o=0}if(this.position.indexOf("right")>-1){o=1}if(this.position.indexOf("top")>-1){g=0}if(this.position.indexOf("bottom")>-1){g=1}if(this.position.indexOf("%")>-1){var f=this.position.split(" ");if(f[0].indexOf("%")===f[0].length-1){g=parseInt(f[0].slice(0,-1))/100}if(f.length===2&&f[1].indexOf("%")===f[1].length-1){o=parseInt(f[1].slice(0,-1))/100}}}var k=(n-m)*g;var d=(l-c)*o;b.style.top=k.toFixed()+"px";b.style.left=d.toFixed()+"px";b.style.width=c.toFixed()+"px";b.style.height=m.toFixed()+"px";b.style.display="block";b.parentNode.style.overflow="hidden"},update:function(){var f=this.width||b.parentNode&&b.parentNode.clientWidth;var d=this.height||b.parentNode&&b.parentNode.clientHeight;var e=this.imageWidth||b.width||b.naturalWidth;var c=this.imageHeight||b.height||b.naturalHeight;if(f&&d&&c&&e){this.fit(f,d,e,c)}}};addEventListener("resize",function(){a.update()});b.addEventListener("update",function(){a.update()});return a};