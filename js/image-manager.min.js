function createBackgroundImage(b,c,a){var d=new Image(b[0].width,b[0].height);d.src=b[0].src;if(bim_option.display_method==="object_fit"){d.style.objectFit=c;d.style.objectPosition=a;d.style.width="100%";d.style.height="100%"}d.style.position="absolute";registerBackgroundImage(d,c,a,b);return d}function onBackgroundImageLoad(c,b,a){c.onload=null;c.removeAttribute("onload");registerBackgroundImage(c,b,a)}function onBackgroundVideo(d,c,a){if(bim_option.display_method==="image"){var b=createFitManager(d);b.size=c;b.position=a;b.imageWidth=d.width;b.imageHeight=d.height;b.update()}}function registerBackgroundImage(f,d,a,c){if(bim_option.display_method==="image"){var b=createFitManager(f);b.size=d;b.position=a;b.update()}if(bim_option.loading_method==="auto-load"){var e=createImageLoaderManager(f);e.size=d;e.progressive=bim_option.progressive;if(c){e.sources=c;e.sortSources()}else{if(f.hasAttribute("data-srcset")){e.parseSrcset(f.getAttribute("data-srcset"))}}if(b){e.onRender=function(){b.update()}}e.update()}}function createImageLoaderManager(b){var a=createAutoLoaderManager();a.update=function(d,c){d=d||b.parentNode&&b.parentNode.clientWidth;c=c||b.parentNode&&b.parentNode.clientHeight;if(d&&c){a.width=d;a.height=c;if(a.onRender){a.onRender.apply(a)}a.upgrade()}};a.onUpgrade=function(){b.src=this.image.src;if(a.onRender){a.onRender.apply(a)}};b.addEventListener("preload",function(c){a.update(c.detail.width,c.detail.height)});addEventListener("resize",function(){a.update()});b.addEventListener("update",function(){a.update()});return a};